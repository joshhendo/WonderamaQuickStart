<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Browser Support Plugin</title>
<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/browserdetect.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<script>
function CheckBrowser(BrowserSupport)
{
	if(BrowserDetect.browser != 'Firefox' || BrowserDetect.browser != 'Chrome')
	{
		alert('You\'re using ' + BrowserDetect.browser + ' ' + BrowserDetect.version + ' on ' + BrowserDetect.OS
			   + ' Your browser isn\'t supported, please download one of the recommended browsers below');
	}
}

function CheckPlugin(ChceckGooglePlugin)
{
	if(google.earth.isInstalled())
	{
		alert('You have Google Earth Plugin installed');
	}
	else
	{
		alert(' !! You do not have Google Earth Plugin Installed. Please install now');
		if(confirm("OK"))
		{
			document.location="http://www.google.com/earth/download/ge/agree.html";
		}
	}
	
}

function OnLoad()
{
		$("#SupportBrowserPlugin").hide();
		$("#UnSupportBrowserPlugin").hide();	
		
		if(google.earth.isInstalled())
		{
			if(BrowserDetect.browser == 'Firefox')
			{
				$("#CheckBrowser").hide();
				$("#SupportBrowserPlugin").show();
				
			}
			else if (BrowserDetect.browser=='Chrome')
			{
				$("#CheckBrowser").hide();
				$("#SupportBrowserPlugin").show();
			}
			else
			{
				alert(BrowserDetect.browser + ' does not support for Liquid Galaxy. \n PLease download and install recommended');
				$("#CheckBrowser").hide();
				$("#UnSupportBrowserPlugin").show();
			}
		}
}
</script>

<script type="text/javascript">
    var ge;
    google.load("earth", "1");

    function init() {
      google.earth.createInstance('map3d', initCB, failureCB);
    }

    function initCB(instance) {
      ge = instance;
      ge.getWindow().setVisibility(true);
    }

    function failureCB(errorCode) {
    }

    google.setOnLoadCallback(init);
  </script>
</head>

<body onload="OnLoad()">
<div id="Wrapper">
	<div class="wrap">
    	<div id="CheckBrowser">
        	<h2>Check Your Browser Support</h2>
            <p>This page will help you if you are using correct browser and the google plugin is installed.</p>
        </div>
        <div id="SupportBrowserPlugin">
        	<h2>Congratulation !!</h2>
            <p>You have Google Earth Plugin Installed and you are using Supporting Browser.</p>
            <button type="submit" value="Continue" id="btnContinue" onclick="window.location.href='orientation.html';" >Next</button>
        </div>
        <div id="UnSupportBrowserPlugin">
        	<h2>Not Supporting Browser !!</h2>
            <input id="BrowserSupport" type="button" value="1. Check Browser" onclick="CheckBrowser(this.id)" />
            <input id="CheckGooglePlugin" type="button" value="2. Check Plugin" onclick="CheckPlugin(this.id)" />
        </div>
        <div id="GoogleEarthImage">
        	 <img src="images/googleEarth.png" />
        </div>
    </div>
</div>
<div id="Content" class="wrap">
<ul>
	<li>Please make sure your browser is either FireFox or Google Chrome<br /></li>
    <li><br />Please make sure your browser is latest updated<br /></li>
	<li>If your browser is not supported, please download recommended browsers.
	<li><a href="#">Mozilla Firefox</a></li>
    <li>||</li>
    <li><a href="#">Google Chrome</a></li>
    <li></li>
</ul>
</div>
</body>
</html>
