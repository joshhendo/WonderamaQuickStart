<html>
<head>
	<title>Wonerama Configuration</title>
	<script src="js/jquery-1.8.1.min.js"></script>
	<script>
		String.prototype.startsWith = function(str) {return (this.match("^"+str)==str)}

		function Set_Cookie( name, value, expires, path, domain, secure )
		{
			// set time, it's in milliseconds
			var today = new Date();
			today.setTime( today.getTime() );

			/*
			if the expires variable is set, make the correct
			expires time, the current script below will set
			it for x number of days, to make it for hours,
			delete * 24, for minutes, delete * 60 * 24
			*/
			if ( expires )
			{
				expires = expires * 1000 * 60 * 60 * 24;
			}

			var expires_date = new Date( today.getTime() + (expires) );

			document.cookie = name + "=" +escape( value ) +
			( ( expires ) ? ";expires=" + expires_date.toGMTString() : "" ) +
			( ( path ) ? ";path=" + path : "" ) +
			( ( domain ) ? ";domain=" + domain : "" ) +
			( ( secure ) ? ";secure" : "" );
		}

		function setComputer(position)
		{
			Set_Cookie( 'position', position, 30, '/', '', '' );

			// Now we want to set a default offset based on the position.
			if (position == 'M')
			{
				setRotation(0);
				setMaster(true)
			}
			else
			{
				positive = 1;
				if (position.startsWith('L'))
				{
					positive = -1;
				}

				// Get the offset value
				setRotation(30*positive);

				setMaster(false);
			}

		}

		function setRotation(rot)
		{
			Set_Cookie( 'rot', rot, 30, '/', '', '' );
		}

		function setMaster(master)
		{
			Set_Cookie( 'master', master, 30, '/', '', '' );
		}
	</script>
</head>
<body>

<h1>Wonderama Setup</h1>

<p>What computer is this?</p>
<a href="#" onclick="setComputer('L1')">Left 1</a>    |    <a href="#" onclick="setComputer('M')">Centre</a>    |    <a href="#" onclick="setComputer('R1')">Right 1</a>
<br />
<a href="viewer.html">Continue to next step</a>

</body>
</html>